<!DOCTYPE html>
<html lang="ru">
<head>
  <style>
      * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: 'Arial', sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
    background-color: #2c3e50;
    padding: 20px;
    color: #ecf0f1;
    min-height: 100vh;
    overflow-x: hidden;
}

h1 {
    color: #f1c40f;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
    margin-bottom: 20px;
    text-align: center;
}

.game-container {
    display: flex;
    gap: 20px;
    margin-bottom: 20px;
    position: relative;
    flex-wrap: wrap;
    justify-content: center;
    max-width: 1400px;
}

#gameCanvas {
    background-color: #27ae60; /* Зеленый цвет поля */
    border: 3px solid #f1c40f;
    border-radius: 8px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
    width: 800px;
    height: 500px;
}

.shop {
    background-color: #34495e;
    border: 3px solid #f1c40f;
    border-radius: 8px;
    padding: 15px;
    width: 280px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
    max-height: 500px;
    overflow-y: auto;
}

.shop h2 {
    margin-top: 0;
    text-align: center;
    color: #f1c40f;
    border-bottom: 2px solid #f1c40f;
    padding-bottom: 10px;
    position: sticky;
    top: 0;
    background-color: #34495e;
    z-index: 1;
}

.tower-item {
    display: flex;
    align-items: center;
    margin-bottom: 15px;
    padding: 10px;
    border: 1px solid #555;
    border-radius: 5px;
    cursor: pointer;
    transition: all 0.2s;
    background-color: #2c3e50;
}

.tower-item:hover {
    background-color: #3d566e;
    transform: translateY(-2px);
}

.tower-preview {
    width: 24px;
    height: 24px;
    margin-right: 10px;
    border: 1px solid #777;
    flex-shrink: 0;
}

.tower-info {
    flex-grow: 1;
    min-width: 0;
}

.tower-name {
    font-weight: bold;
    color: #f1c40f;
}

.tower-stats {
    font-size: 0.8em;
    color: #bdc3c7;
}

.tower-price {
    font-weight: bold;
    color: #2ecc71;
    background-color: rgba(0, 0, 0, 0.3);
    padding: 3px 6px;
    border-radius: 4px;
    flex-shrink: 0;
    margin-left: 5px;
}

.info-panel {
    display: flex;
    justify-content: space-between;
    width: 100%;
    max-width: 1400px;
    margin-bottom: 15px;
    background-color: #34495e;
    padding: 10px 20px;
    border-radius: 8px;
    border: 2px solid #f1c40f;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
}

.stats {
    font-weight: bold;
    display: flex;
    gap: 20px;
    flex-wrap: wrap;
}

.stats span {
    color: #f1c40f;
}

.controls {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

button {
    padding: 8px 15px;
    background-color: #e74c3c;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.2s;
    white-space: nowrap;
}

button:hover {
    background-color: #c0392b;
}

#toggleRadius {
    background-color: #3498db;
}

#toggleRadius:hover {
    background-color: #2980b9;
}

#toggleIndex {
    background-color: #9b59b6;
}

#toggleIndex:hover {
    background-color: #8e44ad;
}

#restartGame {
    display: none;
    background-color: #e74c3c;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    padding: 15px 30px;
    font-size: 1.2em;
    z-index: 100;
}

.game-overlay {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.8);
    z-index: 99;
}

.upgrade-option {
    margin-top: 5px;
    padding-top: 5px;
    border-top: 1px dashed #555;
    font-size: 0.8em;
    color: #e67e22;
}

.selected {
    box-shadow: 0 0 10px #f1c40f;
    border-color: #f1c40f;
}

.upgrade-menu {
    display: none;
    position: fixed;
    background-color: #34495e;
    border: 2px solid #f1c40f;
    border-radius: 8px;
    padding: 15px;
    width: 300px;
    z-index: 10;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
    max-height: 80vh;
    overflow-y: auto;
}

.upgrade-menu h3 {
    margin-top: 0;
    color: #f1c40f;
    border-bottom: 1px solid #f1c40f;
    padding-bottom: 5px;
}

.upgrade-btn {
    width: 100%;
    margin-top: 10px;
    padding: 8px;
    background-color: #2ecc71;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.upgrade-btn:hover {
    background-color: #27ae60;
}

.upgrade-btn:disabled {
    background-color: #7f8c8d;
    cursor: not-allowed;
}

.sell-btn {
    width: 100%;
    margin-top: 10px;
    padding: 8px;
    background-color: #e74c3c;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.sell-btn:hover {
    background-color: #c0392b;
}

.range-indicator {
    position: absolute;
    pointer-events: none;
    border: 2px dashed rgba(255, 255, 255, 0.7);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    z-index: 5;
}

.enemy-index {
    background-color: #34495e;
    border: 3px solid #f1c40f;
    border-radius: 8px;
    padding: 15px;
    width: 280px;
    box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
    max-height: 500px;
    overflow-y: auto;
    display: none;
}

.enemy-index h2 {
    margin-top: 0;
    text-align: center;
    color: #f1c40f;
    border-bottom: 2px solid #f1c40f;
    padding-bottom: 10px;
    position: sticky;
    top: 0;
    background-color: #34495e;
    z-index: 1;
}

.enemy-item {
    margin-bottom: 15px;
    padding: 10px;
    border: 1px solid #555;
    border-radius: 5px;
    background-color: #2c3e50;
}

.enemy-name {
    font-weight: bold;
    color: #f1c40f;
    margin-bottom: 5px;
}

.enemy-stats {
    font-size: 0.8em;
    color: #bdc3c7;
}

.unknown {
    color: #7f8c8d;
    font-style: italic;
}

.targeting-options {
    margin-top: 10px;
    display: flex;
    flex-direction: column;
    gap: 5px;
}

.targeting-options label {
    display: flex;
    align-items: center;
    gap: 5px;
    font-size: 0.9em;
}

.setup-screen {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    z-index: 200;
}

.setup-container {
    background-color: #34495e;
    border: 3px solid #f1c40f;
    border-radius: 8px;
    padding: 30px;
    width: 500px;
    max-width: 90%;
    box-shadow: 0 0 20px rgba(0, 0, 0, 0.7);
}

.setup-container h2 {
    text-align: center;
    color: #f1c40f;
    margin-bottom: 20px;
}

.difficulty-options, .map-options {
    margin-bottom: 25px;
}

.difficulty-options h3, .map-options h3 {
    color: #f1c40f;
    margin-bottom: 10px;
    border-bottom: 1px solid #555;
    padding-bottom: 5px;
}

.option-group {
    display: flex;
    gap: 10px;
    flex-wrap: wrap;
}

.option-btn {
    padding: 10px 15px;
    background-color: #2c3e50;
    color: #ecf0f1;
    border: 2px solid #555;
    border-radius: 5px;
    cursor: pointer;
    flex-grow: 1;
    text-align: center;
    transition: all 0.2s;
}

.option-btn:hover {
    background-color: #3d566e;
    border-color: #f1c40f;
}

.option-btn.selected {
    background-color: #f1c40f;
    color: #2c3e50;
    border-color: #f1c40f;
}

.start-btn {
    padding: 12px 25px;
    background-color: #2ecc71;
    color: white;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-size: 1.1em;
    font-weight: bold;
    width: 100%;
    transition: background-color 0.2s;
}

.start-btn:hover {
    background-color: #27ae60;
}

.boss-aura {
    position: absolute;
    pointer-events: none;
    border: 2px dashed rgba(255, 0, 0, 0.7);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    z-index: 4;
}

@media (max-width: 1400px) {
    .game-container {
        flex-direction: column;
        align-items: center;
    }
    
    #gameCanvas {
        width: 100%;
        max-width: 800px;
        height: 400px;
    }
    
    .shop, .enemy-index {
        width: 100%;
        max-width: 800px;
    }
}

@media (max-width: 900px) {
    .info-panel {
        flex-direction: column;
        gap: 10px;
    }
    
    .stats, .controls {
        justify-content: center;
    }
    
    #gameCanvas {
        height: 350px;
    }
}
  </style>
</head>
<body>
    <div class="setup-screen" id="setupScreen">
        <div class="setup-container">
            <h2>Настройка игры</h2>
            
            <div class="difficulty-options">
                <h3>Выберите сложность:</h3>
                <div class="option-group">
                    <div class="option-btn selected" data-difficulty="normal">Классика</div>
                    <div class="option-btn" data-difficulty="hard">Сложный режим</div>
                </div>
            </div>
            
            <div class="map-options">
                <h3>Выберите карту:</h3>
                <div class="option-group">
                    <div class="option-btn selected" data-map="hills">Холмы</div>
                    <div class="option-btn" data-map="flat">Ровная дорога</div>
                </div>
            </div>
            
            <button class="start-btn" id="startGame">Начать игру</button>
        </div>
    </div>
    
    <h1>Tower Defense</h1>
    
    <div class="info-panel">
        <div class="stats">
            Деньги: <span id="money">200</span> | 
            Жизни: <span id="lives">20</span> | 
            Волна: <span id="wave">0</span>
        </div>
        <div class="controls">
            <button id="toggleRadius">Скрыть радиус</button>
            <button id="toggleIndex">Показать индекс</button>
        </div>
    </div>
    
    <div class="game-container">
        <canvas id="gameCanvas" width="800" height="500"></canvas>
        
        <div class="shop">
            <h2>Магазин</h2>
            <div class="tower-item" data-type="pistol" data-price="50">
                <div class="tower-preview" style="background-color: blue; border-radius: 50%;"></div>
                <div class="tower-info">
                    <div class="tower-name">Пистолет</div>
                    <div class="tower-stats">Урон: 1/сек | Радиус: 100px</div>
                    <div class="upgrade-option">Улучшение: 150 монет → 2 урона/сек, радиус 120px</div>
                </div>
                <div class="tower-price">50</div>
            </div>
            
            <div class="tower-item" data-type="swordsman" data-price="125">
                <div class="tower-preview" style="background-color: red; transform: rotate(45deg);"></div>
                <div class="tower-info">
                    <div class="tower-name">Мечник</div>
                    <div class="tower-stats">Урон: 1/0.5сек | Радиус: 40px</div>
                    <div class="upgrade-option">Улучшение: 300 монет → 2 урона/0.5сек</div>
                </div>
                <div class="tower-price">125</div>
            </div>
            
            <div class="tower-item" data-type="sniper" data-price="250">
                <div class="tower-preview" style="background-color: purple;"></div>
                <div class="tower-info">
                    <div class="tower-name">Снайпер</div>
                    <div class="tower-stats">Урон: 10/5сек | Радиус: 1000px</div>
                    <div class="upgrade-option">Улучшение: 1000 монет → 25 урона/2.5сек</div>
                </div>
                <div class="tower-price">250</div>
            </div>
            
            <div class="tower-item" data-type="freezer" data-price="600">
                <div class="tower-preview" style="background-color: lightblue; border-radius: 50%;"></div>
                <div class="tower-info">
                    <div class="tower-name">Холодильник</div>
                    <div class="tower-stats">Урон: 1/5сек | Радиус: 250px</div>
                    <div class="upgrade-option">Улучшение: 1250 монет → замедление 35%</div>
                </div>
                <div class="tower-price">600</div>
            </div>
            
            <div class="tower-item" data-type="knight" data-price="1000">
                <div class="tower-preview" style="background: gray; clip-path: polygon(50% 0%, 100% 38%, 82% 100%, 18% 100%, 0% 38%);"></div>
                <div class="tower-info">
                    <div class="tower-name">Рыцарь</div>
                    <div class="tower-stats">Внутр: 5ур/0.6сек/50px | Внеш: 5ур/1.9сек/280px</div>
                    <div class="upgrade-option">Улучшение: 2500 монет → усиление атаки</div>
                </div>
                <div class="tower-price">1000</div>
            </div>
            
            <div class="tower-item" data-type="farm" data-price="450">
                <div class="tower-preview" style="background-color: brown; border-radius: 50%;"></div>
                <div class="tower-info">
                    <div class="tower-name">Ферма</div>
                    <div class="tower-stats">Доход: 1 монета/сек | Лимит: 5</div>
                    <div class="upgrade-option">Улучшение: 900 монет → 3 монеты/сек</div>
                </div>
                <div class="tower-price">450</div>
            </div>
            
            <div class="tower-item" data-type="chance" data-price="777">
                <div class="tower-preview" style="background-color: pink; clip-path: polygon(50% 0%, 90% 20%, 100% 60%, 75% 100%, 25% 100%, 0% 60%, 10% 20%);"></div>
                <div class="tower-info">
                    <div class="tower-name">Шанс</div>
                    <div class="tower-stats">Урон: 7-17/0.7сек | Радиус: 170px</div>
                    <div class="upgrade-option">Улучшение: 7777 монет → 17-37 урона/0.77сек</div>
                </div>
                <div class="tower-price">777</div>
            </div>
            
            <div class="tower-item" data-type="atomic" data-price="10000">
                <div class="tower-preview" style="background-color: darkgreen; clip-path: polygon(30% 0%, 70% 0%, 100% 30%, 100% 70%, 70% 100%, 30% 100%, 0% 70%, 0% 30%);"></div>
                <div class="tower-info">
                    <div class="tower-name">Атомный</div>
                    <div class="tower-stats">Урон: 200/60сек | Радиус: 1000px | Лимит: 2</div>
                    <div class="upgrade-option">Улучшение: 30000 монет → 250 урона/50сек</div>
                </div>
                <div class="tower-price">10000</div>
            </div>
            
            <div class="tower-item" data-type="omega" data-price="12500">
                <div class="tower-preview" style="background: linear-gradient(45deg, red, orange, yellow, green, blue, indigo, violet);"></div>
                <div class="tower-info">
                    <div class="tower-name">ОМЕГА</div>
                    <div class="tower-stats">Внутр: 10ур/0.5сек/90px | Внеш: 25ур/3сек/300px | Лимит: 2</div>
                    <div class="upgrade-option">Улучшение: 40000 монет → 15ур/0.4сек/150px и 20ур/1сек/300px</div>
                </div>
                <div class="tower-price">12500</div>
            </div>
        </div>
        
        <div class="enemy-index" id="enemyIndex">
            <h2>Индекс врагов</h2>
            <div class="enemy-item" id="red-enemy">
                <div class="enemy-name">Красный шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="purple-enemy">
                <div class="enemy-name">Фиолетовый шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="golden-enemy">
                <div class="enemy-name">Золотой шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="pink-enemy">
                <div class="enemy-name">Розовый шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="green-enemy">
                <div class="enemy-name">Зеленый шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="white-enemy">
                <div class="enemy-name">Белый шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="boss-enemy">
                <div class="enemy-name">БОСС (Черный шар)</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                    <div>Особенность: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="blue-enemy">
                <div class="enemy-name">Голубой шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                    <div>Особенность: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="sonic-enemy">
                <div class="enemy-name">Соник шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                    <div>Особенность: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
            <div class="enemy-item" id="void-enemy">
                <div class="enemy-name">Пустотный шар</div>
                <div class="enemy-stats">
                    <div>Здоровье: <span class="unknown">Неизвестно</span></div>
                    <div>Скорость: <span class="unknown">Неизвестно</span></div>
                    <div>Особенность: <span class="unknown">Неизвестно</span></div>
                </div>
            </div>
        </div>
        
        <div class="upgrade-menu" id="upgradeMenu">
            <h3>Улучшение башни</h3>
            <div id="upgradeInfo"></div>
            <div class="targeting-options" id="targetingOptions">
                <label>
                    <input type="radio" name="targeting" value="first" checked> Первая цель
                </label>
                <label>
                    <input type="radio" name="targeting" value="random"> Случайная цель
                </label>
            </div>
            <button class="upgrade-btn" id="upgradeBtn">Улучшить</button>
            <button class="sell-btn" id="sellBtn">Продать (50% стоимости)</button>
        </div>
    </div>
    
    <button id="restartGame">Начать заново</button>
    <div class="game-overlay" id="gameOverlay"></div>
    
    <script src="game.js"></script>
</body>
</html>
